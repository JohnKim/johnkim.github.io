"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[20],{3168:function(n,e,a){a.r(e),a.d(e,{Head:function(){return b},default:function(){return f}});var t=a(6410),s=a(7294);function p(n){var e=Object.assign({p:"p",a:"a",ul:"ul",li:"li",strong:"strong",blockquote:"blockquote",h2:"h2",div:"div",hr:"hr",h3:"h3",em:"em",code:"code"},(0,t.ah)(),n.components),a=e.Collapsible;return a||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Collapsible",!0),s.createElement(s.Fragment,null,s.createElement(e.p,null,"Gatsby 는 JAM Stack을 기반으로 한 대표적인 Static Site Generator 중 하나이다."),"\n",s.createElement(e.p,null,"JAM Stack 은 JavaScript, API 그리고 Markup 으로 구성된 웹사이트를 구성하는 방법이라고 할 수 있다.\nJAM Stack 에서 정의한 각자의 역할은 다음과 같다. (참고 : ",s.createElement(e.a,{href:"https://jamstack.wtf/"},"https://jamstack.wtf/"),")"),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,s.createElement(e.strong,null,"JavaScript")," - Client의 모든 처리는 Javascript 가 실행 한다."),"\n",s.createElement(e.li,null,s.createElement(e.strong,null,"API")," - 모든 기능이나 비즈니스 로직은 재사용 가능한 API 로 추상화 한다."),"\n",s.createElement(e.li,null,s.createElement(e.strong,null,"Markup")," - SSG (Static Site Generator) 나 Template Engine (Webpack 등) 을 이용하여 미리 생성한 HTML Markup 이라 할 수 있다."),"\n"),"\n",s.createElement(e.p,null,"WordPress, Drupal 또는 Ghost 와 같은 블로그 플랫폼은 컨텐츠를 Database 에 저장하는 반면에, JAM Stack 은 웹사이트를 구성하는 모든 화면을 미리 Static 페이지인 Markup 으로 만들어 두는 것이 특징이다.\n이를 Static Site Generator (줄여서 SSG 라고 쓰지만, '쓱' 이라고 발음하지는 말자) 라고 한다."),"\n",s.createElement(e.blockquote,null,"\n",s.createElement(e.p,null,"사실 Gatsby 는 Static Site Generator (SSG) 이기만 한것은 아니다. ",s.createElement(e.strong,null,"Deferred Static Generation (DSG)")," 이나 ",s.createElement(e.strong,null,"Server-side Rendering (SSR)")," 모두 기능을 제공하기 때문이다."),"\n",s.createElement(e.p,null,"Deferred Static Generation (DSG) 는 On Demand Static Generation 이라고 할 수 있으며, 사용자가 많이 접속하는 페이지만 Static 페이지로 생성하고, 그외에는 요청을 받았을 때 생성하는 방식이다.\n블로그를 예를 들자면, 최근 100개의 post 만 미리 Static 페이지로 생성할 수 있을 것이다. 블로그 사이트 뿐 아니라, 다양한 서비스에 실제 많이 활용하고 있는 방법 중 하나이다."),"\n",s.createElement(e.p,null,"SSG 는 웹사이트를 구성하는 모든 페이지가 Static Markup 으로 생성 되기 때문에 서버 구성 없이 CDN 이나 S3 + CloudFront 에 배포만 해서도 동작 하겠지만,\nDSG 또는 SSG 는 반드시 서버(Gatsby 프레임워크에서 제공하는 Node.js 서버)를 실행해야만 한다."),"\n"),"\n",s.createElement(e.p,null,"JAM Stack 은 Front-end 개발 영역의 다양한 언어와 프레임워크의 조합으로 최신의 기술 요소들의 집합체로,\nJAM Stack 기술 공유를 위한 컨퍼런스나 커뮤니티도 다수 존재하고 수 많은 Front-end 개발자들이 관심을 갖고 있는 분야이다."),"\n",s.createElement(e.p,null,"물론 Gatsby 이외에도 다양한 JAM Stack 기반의 Static Site Generator 들이 있다.\n",s.createElement(e.a,{href:"https://jekyllrb.com/"},"Jekyll")," (ruby) 이 있고, ",s.createElement(e.a,{href:"https://gohugo.io/"},"Hugo")," (go), ",s.createElement(e.a,{href:"https://nuxtjs.org/"},"Nuxt")," (vue), ",s.createElement(e.a,{href:"https://nextjs.org/"},"Next")," (react) 등 다양하다."),"\n",s.createElement(e.h2,{id:"왜-gatsby-로-블로그를-만들게-되었나",style:{position:"relative"}},s.createElement(e.a,{href:"#%EC%99%9C-gatsby-%EB%A1%9C-%EB%B8%94%EB%A1%9C%EA%B7%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EA%B2%8C-%EB%90%98%EC%97%88%EB%82%98","aria-label":"왜 gatsby 로 블로그를 만들게 되었나 permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"왜 Gatsby 로 블로그를 만들게 되었나?"),"\n",s.createElement(e.hr),"\n",s.createElement(e.p,null,"이전에는 ",s.createElement(e.a,{href:"https://jekyllrb.com/"},"Jekyll")," 을 사용해 웹사이트를 만들어 운영해 본 경험이 있다."),"\n",s.createElement(e.p,null,"Jekyll 은 아주 간단히 설정만 추가하고, Template 과 Layout 페이지를 개발한 다음 Markdown 파일에 글을 작성하면 블로그 사이트가 완성되고, Github Pages 로 Hosting 할 수 있는 아주 매력적인 SSG 이다.\n심지어는, Jekyll은 Ruby 로 개발된 SSG 임에도 불구하고 Ruby 를 전혀 모르고 있다고 해도 웹사이트를 생성하는데 전혀 문제가 되지 않는다."),"\n",s.createElement(e.p,null,"그런데 왜 Gatsby 를 사용해서 기술 블로그를 만들고자 했을까? 바로 아래와 같은 Gatsby 의 특징 때문이다."),"\n",s.createElement(e.h3,{id:"1-react-nodejs",style:{position:"relative"}},s.createElement(e.a,{href:"#1-react-nodejs","aria-label":"1 react nodejs permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"1. React, Node.js"),"\n",s.createElement(e.p,null,"Gatsby는 화면 랜더링은 React 기반으로 동작하며, 설정 부터 개발과 빌드 프로세스는 Node.js 환경에서 동작한다."),"\n",s.createElement(e.p,null,s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/ce61fdb080b6d0f7e2ac6dee0946fabb/d344a/gatsby-process-1.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 17.083333333333332%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAACE4AAAhOAFFljFgAAAA/klEQVQI1wHzAAz/AAGx9W0As/rOD7n7vRu+/L4BtPnFALP5soTF2CLSTpmSzkiYydVdpL3VXKS9zkiYydFOmZWSw9MhALP5sQm2+cUhvvu/Grz6vQC0+s0AsfVxAACj4RUAquwpAIa6MAB0oTgAo+MpAajpIwCWsQHERI0bvEGMKIcuYzSML2cyvUGMKMNFjRwAkq8BAKXlIwCu8SYAiLwwAIm+LwCu8SgAouAVAACr8wAeoNQA+yMACKE9IhQAt/8ABKXjAADK7gDBOokA/wClAGZ0WRdodFsY/wCqAL8/iQAAqsoAAKzvAACd2QAA//8AAP//AACd2gAAq+0AoGluQ/ajuIgAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="일반적인 SSG 빌드 방식"\n        title="일반적인 SSG 빌드 방식"\n        src="/static/ce61fdb080b6d0f7e2ac6dee0946fabb/7d769/gatsby-process-1.png"\n        srcset="/static/ce61fdb080b6d0f7e2ac6dee0946fabb/5243c/gatsby-process-1.png 240w,\n/static/ce61fdb080b6d0f7e2ac6dee0946fabb/ab158/gatsby-process-1.png 480w,\n/static/ce61fdb080b6d0f7e2ac6dee0946fabb/7d769/gatsby-process-1.png 960w,\n/static/ce61fdb080b6d0f7e2ac6dee0946fabb/87339/gatsby-process-1.png 1440w,\n/static/ce61fdb080b6d0f7e2ac6dee0946fabb/88b03/gatsby-process-1.png 1920w,\n/static/ce61fdb080b6d0f7e2ac6dee0946fabb/d344a/gatsby-process-1.png 3243w"\n        sizes="(max-width: 960px) 100vw, 960px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}})),"\n",s.createElement(e.p,null,"일반적인 Static Site Generation 과정은 위의 그림과 같다."),"\n",s.createElement(e.p,null,"Markdown 또는 MDX (Markdown 파일 안에서 React Component 를 사용할 수 있음)로 작성된 블로그 포스트를 Build 과정을 통해 React Component 로 조합 하여 HTML Markup 으로 변환 하는 과정이다. 이 과정은 Jekyll 과 같은 다른 Static Site Generator 와 거의 유사하다."),"\n",s.createElement(e.p,null,"과거 Jekyll 을 사용하면서, Ruby 언어 경험이 부족하여 내부 동적하는 소스를 이해 하기 쉽지 않아 간혹 원인을 알기 어려운 에러를 보게 되는 경우가 있었다.\n게다가, Ruby 로 개발된 프레임워크를 사용하는데, Ruby 코드를 사용할 일이 거의 없다는 것이 내심 불편하기도 했다.\n그리고 Jekyll 과 Ruby 환경은 Mac 과 Windows 에서 서로 동일하게 동작하지 않는 경우도 많았다."),"\n",s.createElement(e.p,null,"Node.js 환경을 기반으로한 Gatsby 는 Ruby 에 비하여 상대적으로 다양한 OS 에 일관적인 개발 환경을 제공한다고 생각한다. (물론 내가 Ruby 경험이 부족해서일 것이다)\n그리고 React 기반의 UI 개발 환경에서는 이미 개발되어 있는 다양한 React Component를 블로그 시스템에도 사용할 수 있을 것이다.\n무엇 보다도, Node.js 기반 환경과 React 에 익숙하거나, React 를 열심히 학습하고 있는 중이라면, 블로그 시스템을 운영하면서 사용해 볼 수 있으니 그야말로 일석이조 아닌가 생각한다."),"\n",s.createElement(e.p,null,"한번도 사용해본 경험이 없는 사람은 있어도, 한번도 사용하지 않은 사람은 있어도 한번만 사용한 사람은 없다는 TypeScript도 장점이겠다.\nGatsby 는 프로젝트를 생성할 때 TypeScript 기반으로 개발을 시작할 수 있는 환경셋팅을 제공하고, Type Definition 도 잘 정의 되어 있기 때문에, TypeScript 로 개발하기에도 어려움이 없다."),"\n",s.createElement(e.h3,{id:"2-graphql",style:{position:"relative"}},s.createElement(e.a,{href:"#2-graphql","aria-label":"2 graphql permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2. GraphQL"),"\n",s.createElement(e.p,null,"Gatsby의 Data Layer 를 담당하고 있는 GraphQL도 큰 장점 중 하나가 될 수 있다."),"\n",s.createElement(e.p,null,"GraphQL의 장점을 설명하기 위해 일반적인 Remote Rest API 를 사용하여 데이터를 조회 할 때 발생할 수 있는 이슈 두가지를 먼저 알아보자."),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,"Over-fetching : API는 원하는 데이터보다 더많은 데이터를 가져와야 하는 경우가 많다. Client 에서 원하는 데이터만 조회 하려면, API 가 많아질것이고 상당히 많은 부분이 중복 개발 되어야 할 수 있다."),"\n",s.createElement(e.li,null,"Under-fetching : 여러번의 요청을 해야하는상황이 나오기도 한다. 블로그 Post 페이지를 예를 들자면, Post 본문을 가져오는 API 와 Comment 목록을 가져오는 API 를 각각 호출해서 화면에서 조합해야 할 것이다."),"\n"),"\n",s.createElement(e.p,null,"위의 두가지 문제는 Client 의 요구사항에 맞게 개발하면 해결할 수 있는 문제겠지만, 계속해서 기민하게 수정되어야 하는 서비스인 경우 개발자가 수정해야 하는 비용을 클 수밖에 없고, 복잡도는 계속 증가하게 될 것이다."),"\n",s.createElement(e.p,null,"GraphQL의 주요한 특징으로, 필요한 데이터만 받아올 수 있다는 점과 한 번에 필요한 데이터를 모두 요청할 수 있다는 점이다."),"\n",s.createElement(e.p,null,"그런데, 왜 Static Page Generator인 Gatsby 에서 GraphQL 을 사용하는 것인가?"),"\n",s.createElement(e.p,null,s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/63541559add6f56c505e765f120081a8/de414/gatsby-process-2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 19.583333333333332%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAACE4AAAhOAFFljFgAAABT0lEQVQY0wFEAbv+AACy+HgLufy4Hb78qQK0+rkLx/pH4UyTbNFZorjaaqyq0lCdt8xen1bNXqBf0kyctthlqarPTZy341GVZgXE+04Mtvm5JL76qxS6+roAsvhxAACu8kQEqupuC6jkZwKt8GwAxPol4EeQOsROl2y2Toxsx0qUa8ZWmC/JVpozvESLcrZMi27BSJJv4kuRNgC/+SkIsPNrErX0YAyz82sArPBBAA6i2wAA//8AiAAAFQD//wAM//8A/3/nAP8b/wANTRET+y+0ALVgjgCvT4cA/4n/AAASAAz/lf8A/37mAAD//wAP7f8AAP//AAC9/wAGsPMAAACn8wJl3/8Evf//BQ6j3wQAWnQCdBtHA9F5pQaOX3IMckNZDIZnbRIjCBkGvYqYFL6Tmx66iZYUWgAmAgxphQIDhLcEa6G8Bymz6wQAsv0B2VeXzDwHyP0AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Gatsby의 GraphQL 기반의 빌드 과정"\n        title="Gatsby의 GraphQL 기반의 빌드 과정"\n        src="/static/63541559add6f56c505e765f120081a8/7d769/gatsby-process-2.png"\n        srcset="/static/63541559add6f56c505e765f120081a8/5243c/gatsby-process-2.png 240w,\n/static/63541559add6f56c505e765f120081a8/ab158/gatsby-process-2.png 480w,\n/static/63541559add6f56c505e765f120081a8/7d769/gatsby-process-2.png 960w,\n/static/63541559add6f56c505e765f120081a8/87339/gatsby-process-2.png 1440w,\n/static/63541559add6f56c505e765f120081a8/88b03/gatsby-process-2.png 1920w,\n/static/63541559add6f56c505e765f120081a8/de414/gatsby-process-2.png 3231w"\n        sizes="(max-width: 960px) 100vw, 960px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}})),"\n",s.createElement(e.p,null,"Static Page Generation(SSG) 에서는 GraphQL 를 Remote API 서버로 사용하지 않고, 데이터를 조회하여 Static Page 를 생성하하는데 사용한다"),"\n",s.createElement(e.p,null,"만약 Deferred Static Generation (DSG)이나 Server-side Rendering (SSR) 인 경우는 Remote API 로 Query 가 실행될 것이다. 이 블로그 프로젝트에서는 SSG 로 구현한 것으로, 빌드 하는 과정에서의 Over Fetching 이나 Under Fetching 을 해결하는 것으로 실질적인 효과가 크지 않겠지만, 개발자의 생산성에는 도움이 될 것이다."),"\n",s.createElement(e.p,null,"블로그 사이트 정보, 이미지 파일들 그리고 블로그 글을 작성한 Markdown 파일의 정보 부터 Markdown 파일안에 작성된 Frontmatter 정보와 본문 내용, ToC 정보 등을 GraphQL 로 Query 할 수 있으며, 개발자는 필요한 정보를 가져와 Static Page 를 생성하게 할 수 있다."),"\n",s.createElement(e.p,null,"Swagger 와 같이 API Specification 과 Rest API 테스트를 위한 기능을 제공하는 ",s.createElement(e.a,{href:"https://github.com/graphql/graphiql"},"GraphiQL"),"이라는 GraphQL IDE 도 있으며, 이를 통해 Query 를 실행하고, Schema 탐색을 할 수 있다."),"\n",s.createElement(e.h3,{id:"3-gatsby-api",style:{position:"relative"}},s.createElement(e.a,{href:"#3-gatsby-api","aria-label":"3 gatsby api permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"3. Gatsby API"),"\n",s.createElement(e.p,null,"Jekyll 은 설정 파일의 값을 변경하여 쉽고 간편하게 블로그 시스템을 구축할 수 있다만, 설정값에 따라 내부 동작하는 로직을 이해하지 못한 상태에서는 ",s.createElement(e.strong,null,"Magic - ",s.createElement(e.em,null,'"어떻게 동작하는지는 모르지만, 잘 동작한다."'))," 일 뿐이다.\n엔지니어가 항상 두려워 하는 것이 바로 이 Magic 아닌가? 항상 기대하는 대로 정상 동작한다면, 마음은 불편하더라도 목적은 달성할 수 있겠다지만, 원하는 결과물을 보지 못한다면, 설정값을 이것 저것 수정해 보는 수 밖에 없겠다."),"\n",s.createElement(e.p,null,"Gatsby 는 개발, 빌드하는 거의 모든 과정에서 ",s.createElement(e.a,{href:"https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/"},"Gatsby API")," 를 제공하고 있어서 GraphQL 기반의 Data 스키마를 개발자가 원하는 대로 구성하거나, 다양한 기능들을 구현해 넣을 수 있다.\n블로그라면, 기본적인 Tags나 Categories 으로 컨텐츠 분류하고, 연재글을 모아 볼 수 있는 Series 기능도 구현해 볼 수도 있겠다. 본 블로그는 초기에 컨텐츠 양이 그렇게 크지 않을 것이기에, 우선 Tags 정도만 구현해 놓을 계획이고, 향후 기능을 더 추가해 보도록 하겠다."),"\n",s.createElement(a,{summary:"실제 사용 예시"},s.createElement(e.p,null,"gatsby-node.ts 에서 Gatsby API 를 사용하게 되며, 본 블로그에서 구현한 파일은 ",s.createElement(e.a,{href:"https://github.com/JohnKim/johnkim.github.io/blob/main/gatsby-node.ts"},"여기")," 에서 전체 파일 내용을 확인할 수 있다."),s.createElement(e.p,null,"전체 흐름을 파악하기 위해 아래와 같이 요약해 본다."),s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">\n<span class="token comment">// Webpack 설정을 추가해 넣을 수 있다.</span>\n<span class="token comment">// 본 블로그 프로젝트에서는 import 할 때 특정 폴더를 alias 를 추가 하는데 사용한다.</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token literal-property property">onCreateWebpackConfig</span><span class="token operator">:</span> GatsbyNode<span class="token punctuation">[</span><span class="token string">\'onCreateWebpackConfig\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> actions <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  actions<span class="token punctuation">.</span><span class="token function">setWebpackConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">components</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'src/components\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">utils</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'src/utils\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">hooks</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'src/hooks\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/**\n * onCreateNode 는 새로운 노드가 생성 되고 난후 바로 실행되는 Gatsby API 이다.\n * 본 블로그에서는 gatsby-plugin-mdx 플로그인 설정에 따라 MDX 노드가 생성될 때만 동작하도록 구현하였다.\n *\n * 참고 : https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/\n */</span>\n\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token literal-property property">onCreateNode</span><span class="token operator">:</span> GatsbyNode<span class="token punctuation">[</span><span class="token string">\'onCreateNode\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> actions<span class="token punctuation">,</span> node<span class="token punctuation">,</span> getNode<span class="token punctuation">,</span> reporter <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> createNodeField <span class="token punctuation">}</span> <span class="token operator">=</span> actions\n\n  <span class="token comment">// MDX 파일 노드가 생성될 때만 동작하도록 한다.</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Mdx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n    <span class="token operator">...</span><span class="token punctuation">.</span>\n\n    <span class="token comment">// frontmatter 에 slug 데이터를 MDX 노드의 slug 필드를 생성해서 저장한다.</span>\n    <span class="token comment">// GraphQL Query 에서 frontmatter 의 slug 정보를 직접 사용해도 되지만, Query 를 간편하게 사용하기 위해 MDX 노드에 직접 생성하였다.</span>\n    <span class="token function">createNodeField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      node<span class="token punctuation">,</span>\n      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">slug</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>slug <span class="token operator">||</span> <span class="token function">slugify</span><span class="token punctuation">(</span>frontmatter<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n    <span class="token comment">// 본문 내용을 바탕으로 읽는 시간을 계산하여 timeToRead 필드를 추가해 저장한다.</span>\n    <span class="token function">createNodeField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      node<span class="token punctuation">,</span>\n      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">timeToRead</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token function">readingTime</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>body <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n    <span class="token comment">// 그외 노드가 생성될 때마다, 원하는 필드를 생성하여 데이터를 넣을 수 있다.</span>\n\n    <span class="token operator">...</span>\n\n<span class="token punctuation">}</span>\n\n<span class="token comment">// createSchemaCustomization 는 스키마 타입을 생성할 때 사용하는 Gatsby API 이다.</span>\n<span class="token comment">// 본 블로그 프로젝트에서는 Mdx 타입에 추가로 저장할 필드의 타입을 추가 하도록 했다.</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token literal-property property">createSchemaCustomization</span><span class="token operator">:</span> GatsbyNode<span class="token punctuation">[</span><span class="token string">\'createSchemaCustomization\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>\n  actions<span class="token punctuation">,</span>\n<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> createTypes <span class="token punctuation">}</span> <span class="token operator">=</span> actions\n\n  <span class="token comment">// 필드를 추가하는데 사용되는 Extensions 과 Directives 는 아래 링크를 통해 알 수 있다.</span>\n  <span class="token comment">// https://www.gatsbyjs.com/docs/reference/graphql-data-layer/schema-customization/#extensions-and-directives</span>\n  <span class="token function">createTypes</span><span class="token punctuation">(</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n      # Mdx 스키마 타입에 추가 필드 설정\n      type Mdx implements Node {\n\n        # from fields\n        timeToRead: Float! @proxy(from: "fields.timeToRead.minutes")\n        wordCount: Int! @proxy(from: "fields.timeToRead.words")\n        slug: String! @proxy(from: "fields.slug")\n        defer: Boolean @proxy(from: "fields.defer")\n        tags: [PostTag] @proxy(from: "fields.tags")\n        banner: File @fileByRelativePath @proxy(from: "fields.banner")\n        source: String! @proxy(from: "fields.source")\n\n        # from frontmatters directly\n        title: String! @proxy(from: "frontmatter.title")\n        description: String @proxy(from: "frontmatter.description")\n        date: Date @dateformat @proxy(from: "frontmatter.date")\n      }\n\n      # Tag 데이터를 위한 스키마 타입 정의 추가\n      type PostTag {\n          name: String\n          slug: String\n      }\n    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/**\n * createPages는 이제 실제로 페이지를 생성하는 GatsbyAPI 이다.\n */</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token literal-property property">createPages</span><span class="token operator">:</span> GatsbyNode<span class="token punctuation">[</span><span class="token string">\'createPages\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> graphql<span class="token punctuation">,</span> actions<span class="token punctuation">,</span> reporter <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> createPage <span class="token punctuation">}</span> <span class="token operator">=</span> actions\n\n  <span class="token operator">...</span>\n\n  <span class="token comment">// 생성한 페이지 파일 정보를 구한다.</span>\n  <span class="token keyword">const</span> postTemplate <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'src/templates/post_template.tsx\'</span><span class="token punctuation">)</span>\n\n  <span class="token comment">// MDX 파일 노드를 GraphQL 로 조회 한다.</span>\n  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> graphql<span class="token operator">&lt;</span>CreatePagesQueryResultType<span class="token operator">></span><span class="token punctuation">(</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n      query {\n        allMdx(sort: { fields: date, order: DESC }) {\n          nodes {\n            id\n            slug\n            source\n            defer\n          }\n        }\n      }\n    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span>\n\n  <span class="token comment">// MDX 파일 노드별로 페이지를 생성한다.</span>\n  <span class="token keyword">const</span> mdxNodes <span class="token operator">=</span> result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>allMdx<span class="token punctuation">.</span>nodes\n  mdxNodes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">createPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token literal-property property">path</span><span class="token operator">:</span> node<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>\n      <span class="token literal-property property">component</span><span class="token operator">:</span> postTemplate<span class="token punctuation">,</span>\n      <span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">id</span><span class="token operator">:</span> node<span class="token punctuation">.</span>id<span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">defer</span><span class="token operator">:</span> node<span class="token punctuation">.</span>defer<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n  <span class="token operator">...</span>\n\n<span class="token punctuation">}</span></code></pre></div>'}})),"\n",s.createElement(e.h3,{id:"4-plugins",style:{position:"relative"}},s.createElement(e.a,{href:"#4-plugins","aria-label":"4 plugins permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"4. Plugins"),"\n",s.createElement(e.p,null,"Gatsby 는 다양한 plugin들을 추가하여 기능을 확장 할 수 있다."),"\n",s.createElement(e.p,null,"블로그 프로젝트에서 사용한 Plugin 중 대표적인 두가지가 어떤 역할을 하는지에 대하여 아래 Flow 를 작성해 보았다."),"\n",s.createElement(e.p,null,s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/1e76d6138d1297fc2c9ddc6cf77aace7/de414/gatsby-process-3.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 28.750000000000004%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAACE4AAAhOAFFljFgAAAB8UlEQVQY0wHmARn+AAa3+7wgv/yrCbb7uwC8/XPfap9D0E+csthoq6/WX6W00E2aoMaSsSnPSpmh1lqjstZgprDOR5ix3XCiQQC7/HcVufq7JL76rA+5+70AsPZdAAGu8HMMp+RtC6fndwSw7UfbVoomyU2XbsJWlnPGVJh0y0yXYLp8oRPISJRivUqOdcFOknDIR5Rs3WCaIQC390YKsvRwErX0Zgiy83IAq+44AAD//wBmAAATkankAIJqgwDrPU4A2Xa3AAAAAAL///8AvF+iAMZwmgDZWKIAAAAABQAAAAr/dN0A////AAL//wAA9f8AAP//AAu6/gAAsfcAAAD//wHHTVMi6Ts9cOo5OnLwJyhi0b/DQOD09oHg8/V3qf3/EMn//wDEhqQIypijGLyQmB60d48LAQAAAQB2ngMfi7gFfqG3ChG3+AMAsfkBAP9ISADLAAAG7S8vI+81NSTxISEe5Do6aeFhYaPkW1uj6CcnPNIvLwD/eXkCknd3BVpKSgn/4eEBfGVlAAAAAABEODgAtpWVAP///wCKcnIAAOc1NQDhBwcA7zIyAPoAAADfi4sA2p6eUtq2tsHdtrazwG1tKQAAAAKGamoQAAAAAwAAAANbSkoAQjY2AAAAAABKPDwAtZSUAMKfnwDBnp4AGWnZHsDEGwsAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Gatsby의 주요한 Plugin 적용 및 동작"\n        title="Gatsby의 주요한 Plugin 적용 및 동작"\n        src="/static/1e76d6138d1297fc2c9ddc6cf77aace7/7d769/gatsby-process-3.png"\n        srcset="/static/1e76d6138d1297fc2c9ddc6cf77aace7/5243c/gatsby-process-3.png 240w,\n/static/1e76d6138d1297fc2c9ddc6cf77aace7/ab158/gatsby-process-3.png 480w,\n/static/1e76d6138d1297fc2c9ddc6cf77aace7/7d769/gatsby-process-3.png 960w,\n/static/1e76d6138d1297fc2c9ddc6cf77aace7/87339/gatsby-process-3.png 1440w,\n/static/1e76d6138d1297fc2c9ddc6cf77aace7/88b03/gatsby-process-3.png 1920w,\n/static/1e76d6138d1297fc2c9ddc6cf77aace7/de414/gatsby-process-3.png 3231w"\n        sizes="(max-width: 960px) 100vw, 960px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}})),"\n",s.createElement(e.p,null,s.createElement(e.code,null,"gatsby-source-filesystem")," 은 지정한 디렉토리의 모든 파일을 가져와 ",s.createElement(e.code,null,"File")," 이라는 GraphQL Schema 에 데이터를 생성한다."),"\n",s.createElement(e.p,null,s.createElement(e.code,null,"gatsby-plugin-mdx")," 는 ",s.createElement(e.code,null,"MDX")," 이라는 GraphQL Schema 생성하고 ",s.createElement(e.code,null,"File")," 목록 중 mdx 파일을 읽어와 Frontmatter 정보, 본문 내용, ToC(Table of Contents) 정보 등의 데이터를 생성하여 저장한다."),"\n",s.createElement(e.p,null,"이 블로그 프로젝트에서 사용하고 있는 plugin 중 주요한 몇가지는 아래와 같다."),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/"},"gatsby-plugin-mdx")," : MDX를 기반으로 Markdown 파일 내에 JSX를 작성해서 리액트 컴포넌트를 표현할 수 있다."),"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-source-filesystem/"},"gatsby-source-filesystem")," : 컨텐츠를 지정한 파일 디렉토리에서 읽어와 페이지를 구성한다. 만약 Headless CMS 를 사용하거나 외부 SaaS 를 사용하는 경우, 적합한 plugin 을 선택해 설치하거나 개발해야 할 것이다."),"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-sitemap/"},"gatsby-plugin-sitemap")," : Sitemap 을 자동 생성해 준다.\n기본적으로 Sitemap은 모든 웹사이트 페이지들의 위치와 정보를 생성하게 되는데, 검색엔진이 웹사이트를 수집하는데 도움을 준다.\n이 Plugin은 Production 모드로 빌드 될때만 동작한다."),"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-manifest/"},"gatsby-plugin-manifest")," : PWA 스펙의 일부분으로, 홈스크린에 사이트를 추가 할 수 있도록 하기 위한 manifest 설정 파일을 만들어 준다.\n그외에도 icon 이나 localization 을 위한 기능도 제공하고 있어 대부분의 Gatsby 기반 프로젝트에서 사용 중이다."),"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-image/"},"gatsby-plugin-image"),", ",s.createElement(e.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-sharp/"},"gatsby-plugin-sharp")," : 이미지 파일 최적화를 통해 품질 높은 이미지로 재생성하고 화면에 빠르게 로딩 될 수 있다."),"\n"),"\n",s.createElement(e.p,null,"이외에도, SEO, RSS, Google Analytics 등 다양한 Plugin 을 ",s.createElement(e.a,{href:"https://www.gatsbyjs.com/plugins"},"Gatsby plugin 검색 사이트"),"에서 찾을 수 있다."),"\n",s.createElement(e.p,null,"기능의 일부를 별도의 plugin 을 개발하여 공통 기능을 재사용 가능한 모듈화 또는 라이브러리와 하는건 소프트웨어 개발 및 유지 관리하는데 상당한 효율적인 방법 중 하나이다.\n그리고, 개발자가 얼마나 쉽게 plugin 을 개발할 수 있는지도 프레임워크를 선택하는데 중요한 기준 중 하나일 것이다."),"\n",s.createElement(e.p,null,"Node.js 경험이 있는 개발자라면 아래 가이드 링크를 통해 어렵지 않게 Plugin을 직접 개발할 수 있다."),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/docs/creating-plugins/"},"How to Create Plugins")),"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/docs/creating-a-local-plugin/"},"How to Create a Local Plugin")," : 로컬에 Plugin 을 개발하여 기능을 재사용한 가능한 모듈로 만드는 방법"),"\n"),"\n",s.createElement(e.h3,{id:"5-documentation",style:{position:"relative"}},s.createElement(e.a,{href:"#5-documentation","aria-label":"5 documentation permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"5. Documentation"),"\n",s.createElement(e.p,null,"개발하는데 Tutorial 이나 참조 문서가 얼마나 풍부한지 역시 프레임워크 선택을 위해 반드시 고민해봐야 하는 부분이다."),"\n",s.createElement(e.p,null,"Gatsby에서 제공하는 ",s.createElement(e.a,{href:"https://www.gatsbyjs.com/docs"},"Gatsby Documentation")," 에는 설치 및 설정 부터 빌드, 배포까지 상당히 상세히 정리되어 있다.\n굳이 다른 개발자가 정리해 공유한 컨텐츠를 찾아볼 필요가 전혀 없을 정도라고 생각한다."),"\n",s.createElement(e.h3,{id:"6-headless-cms",style:{position:"relative"}},s.createElement(e.a,{href:"#6-headless-cms","aria-label":"6 headless cms permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"6. Headless CMS"),"\n",s.createElement(e.p,null,"이 블로그 프로젝트는, ",s.createElement(e.code,null,"gatsby-source-filesystem")," Plugin 을 이용한 방법으로 파일을 데이터소스로 사용하고 있다."),"\n",s.createElement(e.p,null,"Gatsby 는 다양한 CMS(Contents Management System) 와 연결할 수도 있다. 예를들어 ",s.createElement(e.a,{href:"https://wordpress.org/"},"WordPress")," 나 ",s.createElement(e.a,{href:"https://ghost.org/"},"Ghost")," 등 CMS 의 컨텐츠를 API 통해 가져와 Gatsby 의 GraphQL 기반의 Data Layer 에서 사용할 수 있는 Plugin 도 제공된다.\n심지어 Shopify 와 같은 Commerce platform 의 API 를 사용할 수도 있으며, 그외에도 다양한 Headless CMS 와의 연동을 구현할 수 있다."),"\n",s.createElement(e.blockquote,null,"\n",s.createElement(e.p,null,"Headless 란 '머리가 없다' 라는 단어인데, 그럼 머리는 무엇을 말하는가?"),"\n",s.createElement(e.p,null,"Headless CMS 를 이야기 해보자면, CMS 를 Data 영역과 화면 UI 영역으로 나누어 볼때 '머리'는 바로 랜더링 되는 UI 인 것이다. UI 가 없는 대신, API 를 제공하게 된다.\n즉, '머리' 역할을 하는 UI Layer 대신 API Layer 를 두고, Gatsby는 이 API 를 사용하여 블로그 시스템을 구현하게 된다."),"\n"),"\n",s.createElement(e.p,null,"이 블로그 시스템은 Markdown 파일로 작성한 파일을 기반으로 동작하기만 해도 충분하기에 Headless CMS 를 사용하지는 않았다.\n개인 블로그가 아닌 경우라면, 컨텐츠 규모와 현재 운영 중인 프로세스 및 시스템 상황에 맞게 적용을 고민해 볼 문제이다."),"\n",s.createElement(e.h2,{id:"결론",style:{position:"relative"}},s.createElement(e.a,{href:"#%EA%B2%B0%EB%A1%A0","aria-label":"결론 permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"결론"),"\n",s.createElement(e.hr),"\n",s.createElement(e.p,null,"Gatsby 는 JAM Stack 아키텍처를 기반으로 한 대표적인 ",s.createElement(e.strong,null,"Static Site Generator (SSG)")," 중 하나이면서,\n",s.createElement(e.strong,null,"Deferred Static Generation (DSG)")," 와 ",s.createElement(e.strong,null,"Server-side Rendering (SSR)")," 모두 지원한다."),"\n",s.createElement(e.p,null,"Gatsby 는 UI 랜더링을 위해 React 를 사용하고, Data 를 관리하기 위한 Data Layer 에서는 GraphQL 을 사용한다. 그리고 개발 및 배포는 모두 Node.js 를 기반으로 하고 있다."),"\n",s.createElement(e.p,null,"내가 Gatsby 를 기술 블로그 프레임워크로 사용한 몇가지 이유는,"),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,"React 기반이라 React 경험자에게 익숙한 환경이며, 다양한 React Component 를 재사용할 수 있다."),"\n",s.createElement(e.li,null,"다양한 Plugins 가 이미 제공되고 있고, 내가 직접 Plugin 을 만들어 모듈화 하기 용이 하다."),"\n",s.createElement(e.li,null,"Gatsby API 를 사용하여 내가 구현하고자 하는 기능을 얼마든지 구현할 수 있다."),"\n",s.createElement(e.li,null,"문서화가 정말 잘되어 있어, 구글링까지 할 필요도 없어 보인다."),"\n"),"\n",s.createElement(e.p,null,"하지만, 분명히 단점도 있다."),"\n",s.createElement(e.p,null,"당연히 React 를 잘 모른다면, React 부터, 아니 그 이전에 UI Declarative Programming 을 먼저 경험해봐야 할 것이다.\n게다가 Gatsby 가 동작하고 빌드되는 과정에 대한 이해가 반드시 필요하다. 이부분은 다음 글에서 차근차근 살펴보자."),"\n",s.createElement(e.p,null,"그럼 이제 ",s.createElement(e.a,{href:"https://www.gatsbyjs.com/docs/tutorial/"},"Gatsby Tutorial : Learn how Getsby works")," 를 보면서 따라해봅시다. 어렵지 않게 Gatsby 의 대부분의 기능을 경험하고 배울 수 있을 것이다."),"\n",s.createElement(e.h3,{id:"참고",style:{position:"relative"}},s.createElement(e.a,{href:"#%EC%B0%B8%EA%B3%A0","aria-label":"참고 permalink",className:"anchor before"},s.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"참고"),"\n",s.createElement(e.hr),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://jamstack.org/"},"https://jamstack.org/")),"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://www.gatsbyjs.com/"},"https://www.gatsbyjs.com/")),"\n"))}var o=function(n){void 0===n&&(n={});var e=Object.assign({},(0,t.ah)(),n.components).wrapper;return e?s.createElement(e,n,s.createElement(p,n)):p(n)};var l=a(977),c=a(9935),r=a(9090),i=a(8897),u=a(5975),m=a(3),d=a(8542),g=a(5637),k=a(2534),y=a(1762),h=(["32px","16px","8px","4px"].map((function(n){return"rgba(0, 0, 0, 0.15) 0px "+n+" "+n+" 0px"})),{Collapsible:d.z}),A=function(n){var e=n.data.mdx,a=n.children,p=(0,k.Z)(),o=p.ref,r=p.offsetTop;return(0,l.tZ)(i.Z,null,e.tableOfContents&&e.tableOfContents.items&&(0,l.tZ)(g.Z,{items:e.tableOfContents.items,articleOffset:r}),(0,l.tZ)(c.X6,{as:"h1",variant:"styles.h1"},e.title),e.description&&(0,l.tZ)("p",{sx:{color:"onSurface",my:4,fontSize:[2,3,4]}},e.description),e.tags&&(0,l.tZ)(s.Fragment,null,(0,l.tZ)("div",{sx:{mt:3}},(0,l.tZ)(u.Z,{tags:e.tags}))),(0,l.tZ)("p",{sx:{color:"onSurface",my:3,fontSize:[1,1,1]}},(0,l.tZ)("time",null,e.date),e.timeToRead&&" — ",e.timeToRead&&(0,l.tZ)("span",null,Math.ceil(e.timeToRead)," min read")),(0,l.tZ)(c.iz,null),(0,l.tZ)("section",{sx:{my:5,".gatsby-resp-image-wrapper":{my:[4,4,5]},variant:"layout.content"},ref:o},(0,l.tZ)(t.Zo,{components:h},a)),(0,l.tZ)(y.Z,null),(0,l.tZ)(m.Z,{post:e}))};function f(n){return s.createElement(A,n,s.createElement(o,n))}var b=function(n){var e=n.data.mdx,a=n.location;return(0,l.tZ)(r.H,{title:e.title,pathname:a.pathname})}},5975:function(n,e,a){var t=a(977),s=a(9935),p=a(7294),o=a(1082);e.Z=function(n){var e=n.tags;return(0,t.tZ)(p.Fragment,null,e&&e.map((function(n,e){return n&&(0,t.tZ)(p.Fragment,{key:n.slug},!!e&&" ",(0,t.tZ)(o.rU,{sx:function(n){var e;return Object.assign({},null===(e=n.styles)||void 0===e?void 0:e.a)},to:"/tags/"+n.slug},(0,t.tZ)(s.Ct,{sx:{px:3,py:1,mr:2,fontSize:2,backgroundColor:"secondary",letterSpacing:"0.003em",borderRadius:"8px"}},n.name)))})))}},8542:function(n,e,a){a.d(e,{z:function(){return p}});var t=a(977),s=a(9935),p=function(n){var e=n.summary,a=n.children;return(0,t.tZ)("details",{sx:{px:[2,4]}},(0,t.tZ)("summary",{sx:{color:"secondary",fontWeight:"medium",fontSize:["13px","14px"],cursor:"pointer",">:firstOfType":{display:"inline"}}},e),(0,t.tZ)(s.iz,null),a,(0,t.tZ)(s.iz,null))},o={Collapsible:p};e.Z=o},3:function(n,e){e.Z=function(n){n.post;return null}},5637:function(n,e,a){a.d(e,{Z:function(){return c}});var t=a(7294),s=a(977),p=a(9935),o=a(1082),l=function(){var n=t.useState({x:0,y:0}),e=n[0],a=n[1],s=function(){a({y:window.scrollY,x:window.scrollX})};return(0,t.useEffect)((function(){return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[]),e},c=function(n){var e=n.items,a=n.articleOffset,t=l().y;return(0,s.tZ)("div",{sx:Object.assign({},t<a-100?{position:"absolute",top:a}:{position:"fixed",top:"100px"},{left:"85%","@media (max-width: 1410px)":{display:"None"}})},(0,s.tZ)(p.iz,{sx:{mh:0}}),(0,s.tZ)("nav",{sx:{color:"secondary"}},e.map((function(n){return(0,s.tZ)(r,{item:n,key:n.url})}))),(0,s.tZ)(p.iz,{sx:{mh:0}}))},r=function n(e){var a=e.item,p=e.depth,l=void 0===p?0:p;return(0,s.tZ)(t.Fragment,null,(0,s.tZ)(o.rU,{to:""+a.url,title:a.title,sx:function(n){var e;return Object.assign({},null===(e=n.styles)||void 0===e?void 0:e.a,{fontSize:["12px"],color:"secondary",":hover":{color:"heading"}})}},(0,s.tZ)("div",{sx:{marginLeft:3*l}}," ",a.title," ")),a.items&&a.items.map((function(e){return(0,s.tZ)(n,{item:e,depth:l+1,key:e.url})})))}},1762:function(n,e,a){var t=a(7294),s=a(5078),p="comments-container";e.Z=function(){var n=(0,s.If)()[0];return(0,t.useEffect)((function(){var e=document.createElement("script");e.src="https://utteranc.es/client.js",e.setAttribute("repo","JohnKim/johnkim.github.io"),e.setAttribute("issue-term","pathname"),e.setAttribute("theme","dark"==n?"github-dark":"github-light"),e.setAttribute("crossorigin","anonymous"),e.async=!0;var a=document.getElementById(p);return a&&a.appendChild(e),function(){var n=document.getElementById(p);n&&(n.innerHTML="")}}),[n]),t.createElement("div",{id:p})}},2534:function(n,e,a){var t=a(7294);e.Z=function(){var n=(0,t.useRef)(null),e=(0,t.useState)(0),a=e[0],s=e[1];return(0,t.useEffect)((function(){var e,a;(a=null===(e=n.current)||void 0===e?void 0:e.offsetTop)&&s(a)}),[]),{ref:n,offsetTop:a}}}}]);
//# sourceMappingURL=component---src-templates-post-template-tsx-content-file-path-users-gshs-documents-git-hub-johnkim-github-io-contents-posts-gatsby-블로그-프로젝트-gatsby-블로그-프로젝트-왜-gatsby-를-사용하게-되었나-mdx-b3440cbbcbb4d9fd0ff4.js.map